# Tamagochi1
<p>Тестовое задание. Desktop-приложение (игра "Тамагочи", 4 животных).</p>
<p>Jar архив и инструкция размещены в Releases https://github.com/LevGoryachev/Tamagochi1/releases</p>
<p>Текущие изменения, исправления в ветке modifics https://github.com/LevGoryachev/Tamagochi1/tree/modifics</p>

Платформа - JavaFX.<br>
Архитектура - ModelViewController:<br>

# View:
При создании GUI использована xml разметка, файл playing.fxml, связанная с контроллером (PlayController.java) при помощи аннотаций.<br>
Наборы кнопок (кнопки выбора персонажа, кнопки игры и питания и т.п.) сменяются на одном и том же view путём изменения их видимости<br>
Животные и пища размещаются на поле путём передачи в графический узел JavaFX (типа Pane, размещенного на поле) анимированного объекта, координаты которого могут меняться в процессе игры.
# Tamagochi1
<p>Тестовое задание. Desktop-приложение (игра "Тамагочи", 4 животных).</p>
<p>Jar архив и инструкция размещены в Releases https://github.com/LevGoryachev/Tamagochi1/releases</p>

Платформа - JavaFX.<br>
Архитектура - ModelViewController:<br>

# View:
При создании GUI использована xml разметка, файл playing.fxml, связанная с контроллером (PlayController.java) при помощи аннотаций.<br>
Наборы кнопок (кнопки выбора персонажа, кнопки игры и питания и т.п.) сменяются на одном и том же view путём изменения их видимости<br>
Животные и пища размещаются на поле путём передачи в графический узел JavaFX (типа Pane, размещенного на поле) анимированного объекта, координаты которого могут меняться в процессе игры.
![Как выглядит во время игры](https://user-images.githubusercontent.com/61917893/81673487-64f28300-9454-11ea-93b0-2b43f201dc22.jpg)
<br>
В игре использована так называемая spritesheet анимация (для установки состояния питомца путем сдвига отображаемой области по набору изображений). Анимация "живого" питомца реализована путем перемещения по набору изображений вверх-вниз, состояние (настроение, смерть) реализовано путем перемещения по набору изображений вправо-влево.
<br>
![Образец набора изображений](https://user-images.githubusercontent.com/61917893/81674379-bc452300-9455-11ea-9436-fda469696ef8.jpg)
<p>Перемещение питомца по игровому полю осуществлено с использованием javafx Path и PathTransition.</p>

# Controller
PlayController.java, являясь связующим звеном между GUI и Model, способен восстанавливать параметры игры при перезапуске приложения.
<p>При изменении состояния питомца во время игры или при закрытии приложения значения переменных (номер животного, настроение и текущее системное время) автоматически записываются в файл condition.bin (файл создается или перезаписывается). При последующем запуске Controller инициализирует параметры и отправляет их в соответствующие объекты модели, а если файл condition.bin отсутствует, то используются дефолтные значения (игра начинается с начала).</p>
<p>Запись и извлечение параметров осуществляется с помощью классов в пакете ru.goryachev.app.serializer</p>

# Model
<p>Состоит из трех пакетов (ru.goryachev.app.animalmodel, ru.goryachev.app.mealmodel, ru.goryachev.app.behaviormodel), в которые входят классы с логикой, отвечающие за модель животного, модель пищи и модель поведения соответственно. Model связана с главным классом App.java через интерфейсы AnimalModelling, MealModelling, BehaviorModelling.</p>
